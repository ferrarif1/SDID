<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SDID Identity Manager</title>
    <link rel="stylesheet" href="options.css" />
  </head>
  <body>
    <main class="container">
      <header class="page-header">
        <div class="page-title">
          <h1 data-i18n="common.appName"></h1>
          <p class="subtitle" data-i18n="options.subtitle"></p>
        </div>
        <div class="header-actions">
          <div class="language-switch" role="group" data-i18n="common.languageLabel" data-i18n-target="aria-label">
            <span class="language-label" data-i18n="common.languageLabel"></span>
            <div class="language-buttons" id="language-toggle">
              <button type="button" data-language="en" aria-pressed="false">EN</button>
              <button type="button" data-language="zh" aria-pressed="false">中文</button>
            </div>
          </div>
          <button id="create-demo" type="button" class="ghost" data-i18n="options.actions.createDemo"></button>
        </div>
      </header>

      <section class="panel">
        <h2 id="form-title" data-i18n="options.form.createTitle"></h2>
        <form id="identity-form" autocomplete="off">
          <div class="field-group">
            <label for="label" data-i18n="options.form.displayName"></label>
            <input
              id="label"
              name="label"
              required
              data-i18n="options.form.displayNamePlaceholder"
              data-i18n-target="placeholder"
            />
          </div>

          <div class="field-grid">
            <div class="field-group">
              <label for="roles" data-i18n="options.form.roles"></label>
              <input
                id="roles"
                name="roles"
                data-i18n="options.form.rolesPlaceholder"
                data-i18n-target="placeholder"
              />
              <p class="field-hint" data-i18n="options.form.rolesHint"></p>
            </div>
            <div class="field-group">
              <label for="domain" data-i18n="options.form.domain"></label>
              <input
                id="domain"
                name="domain"
                data-i18n="options.form.domainPlaceholder"
                data-i18n-target="placeholder"
              />
              <p class="field-hint" data-i18n="options.form.domainHint"></p>
            </div>
          </div>

          <div class="field-grid">
            <div class="field-group">
              <label for="username" data-i18n="options.form.username"></label>
              <input
                id="username"
                name="username"
                data-i18n="options.form.usernamePlaceholder"
                data-i18n-target="placeholder"
              />
            </div>
            <div class="field-group">
              <label for="password" data-i18n="options.form.password"></label>
              <input
                id="password"
                name="password"
                data-i18n="options.form.passwordPlaceholder"
                data-i18n-target="placeholder"
              />
            </div>
          </div>

          <div class="field-group">
            <label for="tags" data-i18n="options.form.tags"></label>
            <input id="tags" name="tags" data-i18n="options.form.tagsPlaceholder" data-i18n-target="placeholder" />
          </div>

          <div class="field-group">
            <label for="notes" data-i18n="options.form.notes"></label>
            <textarea
              id="notes"
              name="notes"
              rows="3"
              data-i18n="options.form.notesPlaceholder"
              data-i18n-target="placeholder"
            ></textarea>
          </div>

          <div class="field-group key-pair-group">
            <div class="field-group">
              <label for="did" data-i18n="options.form.didLabel"></label>
              <div class="did-row">
                <input
                  id="did"
                  name="did"
                  readonly
                  data-i18n="options.form.didPlaceholder"
                  data-i18n-target="placeholder"
                />
                <button id="generate-did" type="button" class="secondary" data-i18n="common.generateDid"></button>
              </div>
              <p class="field-hint" data-i18n="options.form.didHint"></p>
            </div>
            <div class="key-columns">
              <div class="field-group">
                <label for="public-key" data-i18n="options.form.publicKeyLabel"></label>
                <textarea
                  id="public-key"
                  rows="4"
                  readonly
                  data-i18n="options.form.publicKeyPlaceholder"
                  data-i18n-target="placeholder"
                ></textarea>
              </div>
              <div class="field-group secret-group">
                <label for="private-key" data-i18n="options.form.privateKeyLabel"></label>
                <div class="secret-control">
                  <textarea
                    id="private-key"
                    rows="4"
                    readonly
                    data-hidden="true"
                    data-i18n="options.form.privateKeyPlaceholder"
                    data-i18n-target="placeholder"
                  ></textarea>
                  <div class="secret-buttons">
                    <button id="toggle-private" type="button" class="link" data-i18n="common.show"></button>
                    <button id="copy-private" type="button" class="link" data-i18n="common.copy"></button>
                  </div>
                </div>
                <p class="field-hint" data-i18n="options.form.privateKeyHint"></p>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button id="cancel-edit" type="button" class="ghost" hidden data-i18n="common.cancel"></button>
            <button class="primary" type="submit" data-i18n="common.saveIdentity"></button>
          </div>
        </form>
      </section>

      <section class="panel">
        <div class="panel-header">
          <h2 data-i18n="options.collection.title"></h2>
          <div class="toolbar">
            <button id="export" type="button" class="ghost" data-i18n="options.actions.exportJson"></button>
            <label class="import-button">
              <input id="import-file" type="file" accept="application/json" hidden />
              <span data-i18n="options.actions.importJson"></span>
            </label>
            <button id="clear-storage" type="button" class="danger" data-i18n="options.actions.clearAll"></button>
          </div>
        </div>
        <ul id="identity-collection" class="identity-collection" aria-live="polite"></ul>
      </section>
    </main>

    <dialog id="confirm-clear">
      <form method="dialog">
        <h3 data-i18n="options.confirmClear.title"></h3>
        <p data-i18n="options.confirmClear.message"></p>
        <div class="dialog-actions">
          <button value="cancel" data-i18n="options.confirmClear.cancel"></button>
          <button value="confirm" class="danger" data-i18n="options.confirmClear.confirm"></button>
        </div>
      </form>
    </dialog>

    <script src="options.js" type="module"></script>
  </body>
</html>
